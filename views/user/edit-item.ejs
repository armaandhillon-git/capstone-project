<%- include('../templates/user_header', {app: app_const, session, title: "Edit Item"}); %>
<!-- Page content-->
<div class="container-fluid">

  <h1 class="mt-4"><small>Edit Item</small></h1>

  <form class="prd_form" id="prd_form" onsubmit="update_item(event, 'edit_item')">

    <div class="row">
      <div class="col-12 col-md-6 form-group">
        <label>Select Item Category </label>
        <select class="form-control" name="cat_id" id="cat_id" required>
          <option></option>
          <% cats.forEach(function(cat){ %>
             <option <% if(prd.cat_id == cat.cat_id){ %> selected <% } %> value="<%= cat.cat_id %>"><%= cat.name %></option>
          <% }); %>
        </select>
      </div>
      <div class="col-12 col-md-6 form-group">
        <label>Your location/City </label>
        <select class="form-control" name="loc_id" id="loc_id" required>
          <option></option>
          <% locs.forEach(function(loc){ %>
            <option <% if(prd.loc_id == loc.loc_id){ %> selected <% } %> value="<%= loc.loc_id %>"><%= loc.name %></option>
         <% }); %>
        </select>
      </div>
      <div class="col-12 col-md-6 form-group">
        <label>Item Name </label>
        <input value="<%= prd.prd_name %>" class="form-control" name="prd_name" id="prd_name" required>
      </div>
      <div class="col-12 col-md-6 form-group">
        <label>Item Description </label>
        <textarea class="form-control" name="prd_desc" id="prd_desc" required><%= prd.prd_desc %></textarea>
      </div>
      <div class="col-12 col-md-6 form-group">
        <label>Est. Price: </label>
        <input value="<%= prd.price %>" class="form-control" type="number" step="0.01" id="price" name="price" required>
      </div>

      <div class="col-12 col-md-6 form-group">
        <label>Upload Image (optional)<small>png, jpg, gif only</small></label>
        <div><small> Upload to change previous image</small></div>
        <input class="form-control" id="prd_image" name="prd_image" accept="image/*" type="file">
      </div>

    </div>
    <br>
    <hr>
    <input type="hidden" name="prd_id" value="<%= prd.prd_id %>">
    <p id="errmsg"></p>
    <div id="sbutton" class="py-3">
      <button class="btn btn-primary btn-lg"> Update </button>
    </div>
  </form>
  <br><br>


</div>
</div>
</div>


<!-- Modal -->
<div class="modal fade" id="modal_alert" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<%- include('../templates/user_footer', {app: app_const}); %>