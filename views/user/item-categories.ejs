<%- include('../templates/user_header', {app: app_const, session, title: "Item Categories"}); %>

<!-- Page content-->
<div class="container-fluid">
    
    <h1 class="mt-4"><small>Item Categories</small></h1>

    <div class="text-right"><button onclick="create_category()" class="btn btn-primary"> Add category</button></div>

    <div class="table-responsive py-3">
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Category Id</th>
                <th>Category Name</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        <% cats.forEach(function(cat){ %>
            <tr id="row_<%= cat.cat_id %>" data-id="<%= cat.cat_id %>" data-name="<%= cat.name %>">
                <td><%= cat.cat_id %></td>
                <td><%= cat.name %></td>
                <td class="btn_row"><button class="btn btn-primary" onclick="edit_category(event)">Edit</button> | <button onclick="remove_category(event, 0)" class="btn btn-danger">Delete</button> </td>
            </tr>
        <% }); %>
        </tbody>
    </table>
    </div>

</div>
</div>
</div>


<!-- Modal -->
<div class="modal fade" id="modal_entry" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form onsubmit="update_category(event)">
            <div class="form-group">
                <label>Category Name</label>
                <input required class="form-control" id="name">
                <input type="hidden" id="cat_id">
            </div>
            <p id="errmsg"></p>
            <div class="py-3" id="sbutton">
            <button type="submit" class="btn btn-primary">Create</button>
            </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="modal_delete" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger delete_action_btn" data-bs-dismiss="modal"> Delete</button>
      </div>
    </div>
  </div>
</div>

<%- include('../templates/user_footer', {app: app_const}); %>